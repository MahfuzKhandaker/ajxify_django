{% extends "base.html" %}

{% load static %}

{% block content %}


<div class="container">
    <h1>All Posts</h1>
    <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Totam perferendis cupiditate veniam, facere ipsam praesentium. Maxime explicabo, magnam nobis temporibus repudiandae enim! Praesentium maiores, accusantium hic at soluta commodi quae.</p>
    <br>
</div>

<div id="posts">
	{% include 'posts.html' %}
</div>

{% if posts.has_next %}
<a class="infinite-more-link" href="?page={{ posts.next_page_number }}"></a>
{% endif %}
<div class="d-flex justify-content-center" style="display:none;">
    <div class="spinner-border" role="status">
        <span class="sr-only">Loading...</span>
    </div>
</div>
{% endblock content %}

{% block js %}
<script>
    $(document).ready(function(){ 
        var infinite = new Waypoint.Infinite({
            element: $('.infinite-container')[0],
            handler: function(direction) {
        },
        offset: 'bottom-in-view',

        onBeforePageLoad: function () {
            $('.spinner-border').show();
        },
        onAfterPageLoad: function () {
            $('.spinner-border').hide();
        }

    });
});
</script>

{% endblock js %}




